<div class="app-container">
  <!-- Toolbar -->
  <mat-toolbar color="primary" class="main-toolbar">
    <div class="toolbar-content">
      <div class="logo-section">
        <mat-icon class="logo-icon">videogame_asset</mat-icon>
        <span class="app-title">{{ title() }}</span>
      </div>
      <span class="spacer"></span>
      <button mat-icon-button aria-label="Atualizar" (click)="carregarCartas()" matTooltip="Atualizar lista">
        <mat-icon>refresh</mat-icon>
      </button>
    </div>
  </mat-toolbar>

  <!-- Main Content -->
  <main class="main-content">

    <!-- Loading State -->
    @if (loading()) {
    <app-loading-spinner></app-loading-spinner>
    }

    <!-- Error State -->
    @if (error() && !loading()) {
    <app-error-message [message]="error() || ''" (retry)="carregarCartas()">
    </app-error-message>
    }

    <!-- Data State -->
    @if (!loading() && !error()) {
    <div class="content-wrapper">
      <div class="stats-bar" *ngIf="cartas().length > 0">
        <span class="stats-text">{{ cartas().length }} cartas monitoradas</span>
      </div>

      <app-card-list [cartas]="cartas()" (cardSelected)="abrirDetalhes($event)">
      </app-card-list>
    </div>
    }

  </main>
</div>